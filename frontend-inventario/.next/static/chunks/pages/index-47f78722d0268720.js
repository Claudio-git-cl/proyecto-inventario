(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{7276:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(1445)}])},1445:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var o=r(4848),a=r(6540);let n=()=>{let[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(!0),[c,l]=(0,a.useState)(null),[d,s]=(0,a.useState)(""),[i,u]=(0,a.useState)(""),[h,p]=(0,a.useState)(null),[m,x]=(0,a.useState)("");(0,a.useEffect)(()=>{fetch("http://localhost:5001/api/products").then(e=>{if(!e.ok)throw Error("Network response was not ok");return e.json()}).then(e=>{t(e),n(!1)}).catch(e=>{console.error("Error:",e),l(e),n(!1)})},[]);let g=e=>{s(e.name),u(e.price),p(e.id)},j=r=>{fetch("http://localhost:5001/api/products/".concat(r),{method:"DELETE"}).then(()=>{t(e.filter(e=>e.id!==r)),x("Producto eliminado con \xe9xito!")}).catch(e=>{console.error("Error al eliminar el producto:",e)})},b=()=>{s(""),u(""),p(null)};return r?(0,o.jsx)("div",{children:"Cargando productos..."}):c?(0,o.jsxs)("div",{children:["Error al cargar productos: ",c.message]}):(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{children:"Bienvenido a la Aplicaci\xf3n de Inventario"}),m&&(0,o.jsx)("div",{className:"text-green-500",children:m}),(0,o.jsx)("h2",{children:"Lista de Productos"}),(0,o.jsx)("ul",{children:e.map(e=>(0,o.jsxs)("li",{children:[e.name," - $",e.price,(0,o.jsx)("button",{onClick:()=>g(e),className:"ml-2 bg-yellow-500 text-white p-1 rounded",children:"Editar"}),(0,o.jsx)("button",{onClick:()=>j(e.id),className:"ml-2 bg-red-500 text-white p-1 rounded",children:"Eliminar"})]},e.id))}),(0,o.jsxs)("form",{onSubmit:r=>{r.preventDefault();let o={name:d,price:parseFloat(i)};h?fetch("http://localhost:5001/api/products/".concat(h),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(e=>e.json()).then(r=>{t(e.map(e=>e.id===h?r:e)),b(),x("Producto actualizado con \xe9xito!")}).catch(e=>{console.error("Error al editar el producto:",e)}):fetch("http://localhost:5001/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}).then(e=>e.json()).then(r=>{t([...e,r]),b(),x("Producto agregado con \xe9xito!")}).catch(e=>{console.error("Error al agregar el producto:",e)})},children:[(0,o.jsx)("input",{type:"text",placeholder:"Nombre del producto",value:d,onChange:e=>s(e.target.value),required:!0,className:"border p-2 rounded mr-2"}),(0,o.jsx)("input",{type:"number",placeholder:"Precio del producto",value:i,onChange:e=>u(e.target.value),required:!0,className:"border p-2 rounded mr-2"}),(0,o.jsx)("button",{type:"submit",className:"bg-blue-500 text-white p-2 rounded",children:h?"Actualizar Producto":"Agregar Producto"})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(7276)),_N_E=e.O()}]);